var app=angular.module("imgur",[]);app.service("imageService",function(e,r){function t(){var r=e({method:"get",url:"https://api.imgur.com/3/gallery/hot/viral/0"});return r.then(i,n)}function a(r){var t=e({method:"get",url:"https://api.imgur.com/3/gallery/album/"+r});return t.then(i,n)}function i(e){return e.data}function n(e){return r.reject(!angular.isObject(e.data)||e.data.message?"An unknown error occurred.":e.data.message)}return{getGallery:t}}),app.controller("GalleryCtrl",function(e,r){function t(){angular.forEach(e.images.data,function(e){e.link=e.is_album?"http://i.imgur.com/"+e.cover+"m.jpg":e.link.replace(e.id,e.id+"m")})}function a(r){e.images=r,t(),i(n,l),console.log(e.images),console.log("Success")}function i(r,t){for(var a=[],i=0,n=0;r>n;n++){for(var l=[],o=0;t>o;o++)l.push(e.images.data[i++]);a.push(l)}e.images=a}e.images=[],e.searching=!1,e.signInDropdown=!1;var n=10,l=5;e.getGallery=function(){r.getGallery().then(function(e){a(e)},function(){console.log("Failure getting gallery")})},e.images=e.getGallery(),console.log(e.images)}),app.directive("imageGrid",function(){return{restrict:"E",templateUrl:"partials/image-grid.html"}}),app.directive("searchClosed",function(){return{restrict:"E",templateUrl:"partials/search-closed.html"}}),app.directive("searchFocused",function(){return{restrict:"E",templateUrl:"partials/search-focused.html"}}),app.directive("searchFooter",function(){return{restrict:"E",templateUrl:"partials/search-footer.html"}}),app.directive("signinDropdown",function(){return{restrict:"E",templateUrl:"partials/signin-dropdown.html"}});