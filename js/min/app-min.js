var app=angular.module("imgur",[]);app.service("imageService",function(e,a){function r(){var a=e({method:"get",url:"https://api.imgur.com/3/gallery/hot/viral/0"});return a.then(n,i)}function t(a){var r=e({method:"get",url:"https://api.imgur.com/3/gallery/album/"+a});return r.then(n,i)}function n(e){return e.data}function i(e){return a.reject(!angular.isObject(e.data)||e.data.message?"An unknown error occurred.":e.data.message)}return{getGallery:r}}),app.controller("GalleryCtrl",function(e,a){function r(){angular.forEach(e.images.data,function(e){e.link=e.is_album?"http://i.imgur.com/"+e.cover+"m.jpg":e.link.replace(e.id,e.id+"m")})}function t(a){e.images=a,r(),n(i,l),console.log(e.images),console.log("Success")}function n(a,r){for(var t=[],n=0,i=0;a>i;i++){for(var l=[],o=0;r>o;o++)l.push(e.images.data[n++]);t.push(l)}e.images=t}e.images=[];var i=10,l=5;e.getGallery=function(){a.getGallery().then(function(e){t(e)},function(){console.log("Failure getting gallery")})},e.images=e.getGallery(),console.log(e.images)}),app.directive("imageGrid",function(){return{restrict:"E",templateUrl:"partials/image-grid.html"}});